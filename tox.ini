# This file was generated by the svc.base.packaging.ToxIni class
# Please do not modify it directly.

# tox (https://tox.readthedocs.io/) is a tool for running tests
# in multiple virtualenvs. This configuration file will run the
# test suite on all supported python versions. To use it, "pip install tox"
# and then run "tox" from this directory.

[tox]
envlist = py35, py36, py37
indexserver =
    MRS = http://pypi.mrs.antidot.net/antidot/stable

[testenv]
deps =
    pytest-cov
    Sphinx
    -e .
commands =
    python3 -m pytest . --cov=antidot --verbose -vv

[testenv:formatting]
basepython = python3
deps =
    black==19.3b0
    isort==4.3.15
    pylint
    flake8
commands =
    black antidot --check --line-length=120
    isort -rc antidot --check-only
    flake8 antidot
    # --errors-only   In error mode, checkers without error messages are,
    #                 disabled and for others, only the ERROR messages are
    #                 displayed, and no reports are done by default.
    pylint antidot --errors-only
    # --exit-zero         Always return a 0 (non-error) status code, even if
    #                     lint errors are found. This is primarily useful in
    #                     continuous integration scripts.
    pylint antidot --exit-zero
changedir = {toxinidir}
