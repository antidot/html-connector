/*
 File: new-guide-view-all.js */
(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{1792:function(m,k,g){g(508);g(1793);g(1794);g(509);g(1795);g(1796)},1793:function(m,k,g){!function(){function a(){TweenMax.to("meter-counter",.75,{opacity:1,scaleY:1,textShadow:"0 0 30px "+c[l],ease:Elastic.easeOut});TweenMax.set("meterProgress",{attr:{"stroke-dashoffset":d}});TweenMax.set("meterStroke",{attr:{"stroke-width":18}})}function e(){"ie"!==Browser.name&&TweenMax.fromTo("meterBar",1/(l+5),{rotation:f-l/3},{rotation:f+l/6,repeat:-1,
yoyo:!0})}function b(){if(!n){var b=window.getSize().y,p=h.getPosition().y;getScroll().y>p-(b-250)&&(f=27*l+135,TweenMax.fromTo("meterBar",2,{rotation:135},{rotation:f,ease:Expo.easeIn,delay:1,onComplete:e}),d=22.7*l+227,TweenMax.fromTo("meterProgress",2,{attr:{"stroke-dashoffset":227}},{attr:{"stroke-dashoffset":d},ease:Expo.easeIn,delay:1,onComplete:a}),b=$("meterStroke"),"ie"!==Browser.name?TweenMax.to(b,2,{stroke:c[l],ease:Power1.easeOut,delay:2}):TweenMax.set(b,{stroke:c[l]}),TweenMax.set("meter-counter",
{opacity:0,scaleY:0}),n=!0)}}var h,f,l=App.repairabilityScore,c="#E01410 #EB2C0A #EF5803 #F38800 #F4B700 #F0DC02 #DAE60D #9ADA0D #5DD113 #2DCF1C #0BCD20".split(" "),d,n=!1;onDomReady(function(){(h=$("teardownConclusion"))&&(b(),window.addEvent("scroll:throttle(100):pause(100)",b))})}()},1794:function(m,k,g){var a=g(235);onDomReady(function(){function e(c,a){var d=Math.floor(c*window.shared_constants.Global("EMBED_ASPECT_RATIO"));c=$$(".js-embed-"+a+".js-embed-text")[0].get("data-embed-template").replace("{width}",
c);return"single"==a&&(c=c.replace("{height}",d)),c}function b(c,a,b){a=void 0!==a?a:.5;var d=c.getElement(".comments-container");c=function(a){a=a.getElement(".js-comment-container");var c=a.retrieve("commentManager");c||(c=new CommentManager(a),a.store("commentManager",c));return c}(c);void 0===b&&(b=d.hasClass("closed"));d&&(b?c.loadComments().then(function(){TweenMax.set(d,{height:"auto"});TweenMax.set(d,{opacity:1});TweenMax.from(d,a,{height:0,opacity:0,ease:Expo.easeOut,onComplete:function(){d.removeClass("closed")}})}):
TweenMax.to(d,a,{height:0,opacity:0,ease:Expo.easeOut,onComplete:function(){d.addClass("closed")}}))}function h(a,d){d=$(this);a=d.hasClass("js-embed-width")?"js-embed-width":"js-embed-type";$$(".js-button-checkable."+a).removeClass("button-checked");d.addClass("button-checked");a=e($$(".js-embed-width.button-checked")[0].get("data-embedWidth"),$$(".js-embed-type.button-checked")[0].get("data-embedType"));d=$$(".js-embed-text")[0];$$(".js-embed-single").hide();$$(".js-embed-full").show();$("embedBoxIframe").set("html",
a);d.set("value",a);d.select()}var f=!1;onHashFragmentElement(function(a){var c=a.getParent(".js-step");c&&(b(c,0,!0),onLoad(function(){a.jumpTo({offset:0,duration:0})}))});$$(".js-step").each(function(a){var c=a.getElement(".js-step-main-media");a.getElements(".js-step-thumbnail-container").each(function(a){var d=function(a,c){a.getParent(".js-step").getElements(".js-step-thumbnail-container").removeClass("active");a.addClass("active");a=$(a.getAttribute("data-fullimg"));c=c.getElement("img.visible");
a.src&&c&&(c.removeClass("visible"),a.addClass("visible"),(c=ImageMenu.getMenu(c))&&(c.disable(),(c=ImageMenu.getMenu(a))||(c=ImageMenu.installMenu(a),a.addClass("hasMenu")),c.enable()))}.pass([a,c]);a.addEvents({mouseenter:d,click:d})})});$$(".js-step .stepMedia.stepImage").each(function(a){a.addEvent("click",function(a,c){"img"!=$(c.target).get("tag")||a.hasClass("noImage")||$(c.target).hasClass("js-no-link")||(a=(a=a.getElement("img.visible"))&&a.get("data-biggest"))&&window.open(a,"_blank")}.bind(null,
a))});$$(".js-share-dropdown").each(function(a){var c=encodeURIComponent(App.canonical),b=encodeURIComponent(App.page_title);new ButtonDropdown(a,{items:[{title:_js("Embed this guide"),href:"#",icon:"code",class:"js-show-embed"},{title:"Facebook",href:"https://www.facebook.com/sharer.php?u\x3d"+c+"\x26t\x3d"+b,icon:"facebook-f",class:""},{title:"Twitter",href:"https://twitter.com/intent/tweet?text\x3d"+b+"\x26url\x3d"+c,icon:"twit",class:""}]})});$$(".js-step .js-comment-container").each(function(a){a.getElement(".comments-container:not(.closed)")&&
a.store("commentManager",new CommentManager(a))});ContentDropdownGroup($$(".js-guide-details-container"));$$(".item-list li a").each(function(a){new ItemHover(a)});$$(".publish-guide-banner").each(function(a){var c=a.getProperty("data-guideid"),b=a.getProperty("data-guide-api-revisionid"),e=new StatusNotice(a.getElement(".status"));a.getElements(".button").addEvent("click",function(){(new Request.API_2_0("guides/"+c+"/public?revisionid\x3d"+b,{method:"put",onFailure:function(a){a=JSON.decode(a.response);
var c=_js("Unable to publish guide.");a&&a.message&&(c=a.message);e.error(c);e.addCloseButton()},onSuccess:function(a){e.good(_js("Successfully published."));e.addCloseButton();window.location.reload()}})).send()})});window.addEvents({"click:relay(.js-screen-size-item)":function(a,d){a=d.get("data-screen-size");$$(".js-video-container").set("data-video-size",a);$$(".js-screen-size-item").removeClass("active");d.addClass("active")},"click:relay(.js-show-comments)":function(a,d){b(d.getParent(".js-step"))},
"click:relay(.js-expand-comments)":function(a,d){a=$$(".js-step").filter(function(a){return 0<a.getElement("button.js-comment-count").get("data-numcomments")});var c=!d.getElement(".expand").hasClass("hidden");SettingsCookie.set("expand-comments",c.toString());a.each(function(a){b(a,0,c)});d.getElements(".expand, .collapse").toggleClass("hidden")},"click:relay(.js-embed-type.js-button-checkable)":h,"click:relay(.js-embed-width.js-button-checkable)":h,"click:relay(.js-show-embed)":function(a,d){(a=
$("embedBox"))&&!f&&(f=!0,a.appendHTML('\x3cdiv id\x3d"embedBoxIframe"\x3e'+e(800,"single")+"\x3c/div\x3e"));Modal.open({type:"element",element:a,onLoad:function(a){(a=a.getElement(".js-embed-text"))&&a.select()}})},"click:relay(.js-show-shareable-link)":function(a,d){a=(new Element("div.shareable-link-container")).grab(new Element("h3",{text:_js("Shareable Link")}));d=(new Element("input",{type:"text",value:d.get("data-shareable-link")})).inject(a);Modal.open({type:"element",element:a});d.select()},
"click:relay(.js-subscribe-edit)":function(){Auth.required({from:$$(".js-subscribe-edit"),message:_js("Log in to subscribe."),onAuthorize:LoadingIndicator.withEventHandler(function(a,d){a=App.guideid;d=App.viewLangid;a="subscribe/"+window.guide_constants.DocumentWatch("DOCTYPE_GUIDE")+"/"+a+"/"+d+"/"+window.guide_constants.DocumentWatch("LEVEL_EDIT");return $$(".un-subscribe-edits")[0].hasClass("hidden")?(new Request.API_2_0(a,{method:"put",onSuccess:function(a){$$(".un-subscribe-edits").removeClass("hidden");
$$(".subscribe-edits").addClass("hidden")}})).send():(new Request.API_2_0(a,{method:"delete",onSuccess:function(a){$$(".subscribe-edits").removeClass("hidden");$$(".un-subscribe-edits").addClass("hidden")}})).send()},{pendingMessage:_js("Updating Subscription"),successMessage:_js("Success"),failureMessage:_js("Failure")})})}});var l=new a.UpDownNavigation({items:$$(".js-step"),onBeforejump:function(){var a,d=8;(a=$("notifications"))&&(d+=a.getSize().y);l.options.scrollContext=d}});when($$(".time-travel .dropdown-wrapper"),
function(a){a.addEvent("valuechanged",function(){var a=this.getValue();(new URI(window.location.href)).setData({revisionid:a},!0).go()})})})},1795:function(m,k,g){onDomReady(function(){when($$(".releaseDetailsToggle"),function(a){a.addEvent("click",function(e){e.preventDefault();e=$$(".detailsContainer");var b=a.get("data-toggleText"),h=a.get("text");a.set("data-toggleText",h);a.set("text",b);e.toggle()})});when($("guideReleaseVersionSelect"),function(a){a.addEvent("valuechanged",function(a){a=a.get("data-value")||
void 0;var b=new URI(window.location);b.setData("release",a);window.location=b})});when($E(".version-type"),function(a){new Tooltip(a,{autoshow:!0,showDelay:400,side:"bottom",text:new Element("p.version-type-tooltip",{text:a.getElement(".tooltip-text").get("text")}),offset:-12,maxWidth:150,arrowAlign:"center"})});when($E(".draft-available"),function(a){new Tooltip(a,{autoshow:!0,showDelay:400,side:"bottom",text:new Element("p.draft-available-tooltip",{text:a.getElement(".tooltip-text").get("text")}),
offset:-12,maxWidth:150,arrowAlign:"center"})});when($("cancel-release-button"),function(a){a.addEvent("click",function(a){var b,e,f;a.stop();Modal.open({type:"message",message:_js("Are you sure you want to cancel Release: %1?",App.releaseTitle),buttons:(b={},e=_js("Yes"),f=function(){var a=(new Request.API_2_0("guides/releases/"+App.releaseid,{method:"delete",onSuccess:function(){return window.location.reload()}})).send();LoadingIndicator.withPromise(a,{pendingMessage:_js("Cancelling Release . . ."),
useErrorResponseAsFailureMessage:!0,duration:1E4})},e in b?Object.defineProperty(b,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):b[e]=f,b)})})})})},1796:function(m,k,g){function a(a){var b=$E(".js-guide-promo-banner-container");b&&b.set("html",a)}Object.defineProperty(k,"__esModule",{value:!0});k.setBannerData=a;window.setBannerData=a;onDomReady(function(){"ifixit"==window.App.siteName&&Geo.locate(function(e,b){(new Request.API_2_0("internal/guide_banner_ad/"+App.guideid+"/"+e,{onSuccess:a})).send()})})},
508:function(m,k,g){onDomReady(function(){var a=$("successButton"),e=$("doneButton"),b=$("cancelComplete"),h=function(f){f?(a.addClass("hidden"),e.removeClass("hidden"),b.removeClass("hidden")):(e.addClass("hidden"),a.removeClass("hidden"),b.addClass("hidden"))};when(b,function(){b.addEvent("click",function(a){var b=e.get("text");e.set("text",_js("Processing..."));a.stop();(new Request.API_2_0("guides/"+App.guideid+"/completed",{method:"DELETE",onSuccess:function(a){h(!1);e.set("text",b)},onError:function(a){Modal.alert(a.fail)}})).send()})});
when(a,function(){a.addEvent("click",function(b){b.stop();Auth.required({from:a,message:_js("Log in to record that you completed a repair."),onAuthorize:function(){var b=a.get("text");a.set("text",_js("Processing..."));(new Request.API_2_0("guides/"+App.guideid+"/completed",{method:"PUT",onSuccess:function(c){h(!0);a.set("text",b)},onError:function(a){Modal.alert(a.fail)},onFailure:function(a,b){Modal.alert(b)}})).send()}})})});when($("halfwayButton"),function(a){a.addEvent("click",function(a){var c=
new Element("div",{class:"hrContentMinor"}),b=new Element("div",{id:"guideSteps"});$$(".step").reverse().each(function(a){b.adopt(a,c.clone())});b.replaces($("guideSteps"));$$(".step")[0].jumpTo({offset:5,duration:.75});$("halfwayConclusion").addClass("hidden");$("finishedConclusion").removeClass("hidden");this.addClass("hidden");$("successButton").removeClass("hidden")})})})},509:function(m,k,g){Object.defineProperty(k,"__esModule",{value:!0});k.ItemHover=window.ItemHover=new Class({initialize:function(a){this.li=
a;this.featured=a.hasClass("featured");this.name=a.getElement(".itemName").get("text");(this.price=a.getProperty("data-price"))&&(this.price=this.price.toFloat());this.isForSale=null!==a.getProperty("data-is-for-sale");this.isFromExternalSupplier=null!==a.getProperty("data-external-supplier");this.subtitleText=a.getProperty("data-subtitle-text");this.subtitleClass=a.getProperty("data-subtitle-class");this.guideinfo=a.getProperty("data-guideinfo");this.supplier=a.getProperty("data-supplier");this.imageURL=
a.getProperty("data-image");this.purchaseURL=a.getProperty("data-purchaseUrl");this.wikiURL=a.getProperty("data-wikiUrl");this.editURL=a.getProperty("data-editUrl");this.text=a.getProperty("data-text");this.onPrivateSite=1==a.getProperty("data-private");this.tooltipClass=a.getProperty("data-tooltip-class")||"itemHover";this.infoButtonClass=a.getProperty("data-info-button-class")||"";this.buyButtonClass=a.getProperty("data-buy-button-class")||"";this.tip=this.buildTooltip();a.addEvents({mouseenter:a.addClass.pass("active",
a),mouseleave:a.removeClass.pass("active",a)})},buildTooltip:function(){var a=new Element("div."+this.tooltipClass);var e=this.purchaseURL||this.wikiURL;this.imageURL&&(a.addClass("hasImage"),a.adopt((new Element("div.thumbnail")).adopt(new Element("a",{href:e,styles:{backgroundImage:"url("+this.imageURL+")"}}))));a.adopt((new Element("h3.title")).adopt(new Element("a",{href:e,text:this.name})));e=_js("Buy Now");this.isForSale?this.isFromExternalSupplier&&this.supplier&&(e=_js("Buy on %1",this.supplier)):
e=_js("View Item");a.adopt(new Element("p",{text:this.subtitleText,class:this.subtitleClass}));a.adopt(new Element("p.guideinfo",{text:this.guideinfo}));var b,h,f,g=_js("This {item} doesn't have a description yet, but you can help! {a1}Improve the {name} wiki{a2} with a quick explanation.");return a.adopt(new Element("p.description",{html:htmlEncode(this.text)||g.substitute({item:this.li.getParent("ul").getProperty("data-itemType"),name:htmlEncode(this.li.getElement(".itemName").get("text")),a1:'\x3ca target\x3d"_blank" href\x3d"'+
this.editURL+'"\x3e',a2:"\x3c/a\x3e"})})),a.adopt(new Element("div.clearer")),this.purchaseURL&&a.adopt((new Element("p.purchaseLink")).adopt(new Element("a",{text:e,target:"_blank",href:this.purchaseURL,class:this.buyButtonClass}))),this.wikiURL&&this.text&&a.adopt((new Element("p.wikiLink")).adopt(new Element("a",{text:_js("Info"),target:"_blank",href:this.wikiURL,class:this.infoButtonClass}))),a.adopt(new Element("div.clearer")),this.featured?(b=13,h=-10,f=16):(b=24,h=-7,f=32),new Tooltip(this.li,
{autoshow:!0,showDelay:400,side:"top",arrowAlign:"left",offset:h,nudge:b,arrowInset:f,text:a,maxWidth:300})}})}},[[1792,0,1]]]);
